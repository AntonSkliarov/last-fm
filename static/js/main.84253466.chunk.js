(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{37:function(t,e,r){},38:function(t,e,r){},40:function(t,e,r){},42:function(t,e,r){},43:function(t,e,r){},44:function(t,e,r){"use strict";r.r(e);var c=r(0),a=r(1),n=r.n(a),s=r(16),i=r.n(s),o=r(13),u=r(4),j=r(25),l=r(12),b=(r(37),r(5)),h=(r(38),r(6)),d=r.n(h),O=r(10),p="https://ws.audioscrobbler.com/2.0/",f="5190711e40adb8688facb8a58d660e2d";function m(t){return x.apply(this,arguments)}function x(){return(x=Object(O.a)(d.a.mark((function t(e){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="?method=artist.getinfo&artist=".concat(e,"&api_key=").concat(f,"&format=json"),t.next=3,fetch("".concat(p).concat(r));case 3:return c=t.sent,t.next=6,c.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"track";if("track"===e){var r={};return t.forEach((function(t){"medium"===t.size&&(r=t)})),r}var c={};return t.forEach((function(t){"extralarge"===t.size&&(c=t)})),c}var E="topTracks/FETCH_TOP_TRACKS",k="artist/FETCH_ARTIST",g="artist/SET_ARTIST_IMAGE",T="trackSearch/FETCH_SEARCHED_TRACK",_="trackSearch/CLEAR_TRACK_PREVIEW",R="trackSearch/SET_SEARCH_ERROR",N="trackSearch/CLEAR_SEARCH_ERROR",y="trackSearch/SET_INPUT_ERROR",w="trackSearch/CLEAR_INPUT_ERROR",S="app/SET_REQUEST_TOP_TRACKS_ERROR",A="app/SET_REQUEST_SEARCH_TRACK_ERROR",C="app/SET_REQUEST_ARTIST_ERROR",P="CLEAR_REQUEST_SEARCH_TRACK_ERROR",q="TOP_TRACK_PAGE",F="SEARCH_TRACK_PAGE",I="ARTIST_PAGE";function H(t){return function(e){switch(t){case q:e({type:S});break;case F:e({type:A});break;case I:e({type:C})}}}function L(t){return function(e){var r=v(t,"artist");e({type:g,payload:r})}}var K=function(){return Object(c.jsxs)("div",{className:"message is-danger",children:[Object(c.jsx)("div",{className:"message-header",children:Object(c.jsx)("p",{children:"Oops, something went wrong"})}),Object(c.jsx)("div",{className:"message-body",children:"Sorry for the inconvenience. Please try to reload the page or contact the support team."})]})},U=function(t){var e=t.tag;return Object(c.jsx)("button",{type:"button",className:"button is-link is-light is-small mr-2",children:Object(c.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:e.name})})};r(40);function D(){var t,e=Object(u.c)((function(t){return t.artist.artist})),r=Object(u.c)((function(t){return t.artist.artistImage})),a=[(t=e.bio.content).split(" <",2)[0],t.split("a>.")[1]].join("");return Object(c.jsxs)("div",{className:"artist-info",children:[Object(c.jsx)("img",{className:"subtitle mb-4",src:r["#text"],alt:e.name}),Object(c.jsx)("h2",{className:"subtitle mb-3 has-text-weight-semibold",children:e.name}),Object(c.jsx)("p",{className:"mb-4",children:a}),e.tags.tag.map((function(t){return Object(c.jsx)(U,{tag:t},t.name)}))]})}function G(t){var e=t.match,r=Object(u.b)(),n=Object(u.c)((function(t){return t.artist.artist})),s=Object(u.c)((function(t){return t.requestErrors.requestErrors.artistError}));return void 0!==e&&Object(a.useEffect)((function(){r(function(t){var e=t.artistName;return function(){var t=Object(O.a)(d.a.mark((function t(r){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(e);case 3:c=t.sent,a=c.artist,r({type:k,payload:a}),r(L(a.image)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(H(I));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e.params))}),[e.params.artistName]),s?Object(c.jsx)(K,{}):Object(c.jsx)(c.Fragment,{children:n?Object(c.jsx)(D,{}):Object(c.jsx)("div",{className:"notification is-info",children:"Hey, wanna see some? Just click on the artist's name on the Top Tracks Page!"})})}var Q=function(){return Object(c.jsx)("nav",{className:" mb-4",children:Object(c.jsxs)("div",{className:"navbar-brand container",children:[Object(c.jsx)(l.c,{className:"navbar-item is-tab has-text-weight-bold",to:"/",activeClassName:"is-active",exact:!0,children:"Top Tracks"}),Object(c.jsx)(l.c,{className:"navbar-item is-tab has-text-weight-bold",to:"/track-search",activeClassName:"is-active",children:"Track Search"}),Object(c.jsx)(l.c,{className:"navbar-item is-tab has-text-weight-bold",to:"/artist-details",activeClassName:"is-active",children:"Artist Details"})]})})},X=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"title",children:"404 Page Not Found"}),Object(c.jsx)("p",{className:"subtitle",children:"An unexpected error has occurred. Please contact the site owner."})]})};r(42);function J(t){var e=t.track,r=v(e.image);return Object(c.jsx)("div",{className:"track-card card mr-4 mb-4",children:Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"card-content is-flex",children:[Object(c.jsx)("img",{className:"image is-64x64 mr-5",src:r["#text"],alt:"".concat(e.artist.name," Album Cover")}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:"has-text-weight-medium",children:e.name}),Object(c.jsx)("div",{className:"mb-4 has-text-weight-semibold",children:Object(c.jsx)(l.b,{to:"/artist-details/".concat(e.artist.name),children:e.artist.name})}),Object(c.jsx)("a",{href:e.artist.url,rel:"noreferrer",target:"_blank",children:"Artist on Last.fm"})]})]})})})}var V=r(2),z="/?method=chart.gettoptracks&api_key=".concat(f,"&format=json");function M(){return B.apply(this,arguments)}function B(){return(B=Object(O.a)(d.a.mark((function t(){var e,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p).concat(z));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.topTracks.tracks})),r=Object(u.c)((function(t){return t.requestErrors.requestErrors.topTracksError}));return Object(a.useEffect)((function(){t(function(){var t=Object(O.a)(d.a.mark((function t(e){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M();case 3:r=t.sent,c=r.tracks.track,a=c.map((function(t,e){return Object(V.a)(Object(V.a)({},t),{},{id:e})})),e({type:E,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e(H(q));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())}),[]),r?Object(c.jsx)(K,{}):Object(c.jsx)("div",{children:Object(c.jsx)("ul",{className:"is-flex is-flex-wrap-wrap",children:e.map((function(t){return Object(c.jsx)(J,{track:t},t.id)}))})})}var Y=r(27),Z=r(26),$=r.n(Z);function tt(t){return et.apply(this,arguments)}function et(){return(et=Object(O.a)(d.a.mark((function t(e){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="?method=track.search&track=".concat(e,"&api_key=").concat(f,"&format=json"),t.next=3,fetch("".concat(p).concat(r));case 3:return c=t.sent,t.next=6,c.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(){return function(t){t({type:w})}}r(43);function ct(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.tracksForPreview.searchError})),r=Object(u.c)((function(t){return t.tracksForPreview.inputError})),n=Object(a.useState)(""),s=Object(Y.a)(n,2),i=s[0],o=s[1];return Object(c.jsxs)("form",{className:"find-track mb-4",children:[Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{className:"label",htmlFor:"track-title",children:"Track title"}),Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{className:$()("input ",{"is-danger":e}),type:"text",id:"track-title",placeholder:"Enter a track title to search",value:i,onChange:function(e){t((function(t){t({type:N})})),t(rt()),o(e.target.value),t((function(t){t({type:_})}))},autoComplete:"off"})}),r&&Object(c.jsx)("p",{className:"help is-danger",children:"Search field cannot be empty"}),e&&Object(c.jsx)("p",{className:"help is-danger",children:"Can't find a track with such a title"})]}),Object(c.jsx)("div",{className:"field is-grouped",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("button",{type:"submit",className:"button is-light",onClick:function(e){var r;(e.preventDefault(),0!==i.trim().length)?(t((function(t){t({type:P})})),t((r=i,function(){var t=Object(O.a)(d.a.mark((function t(e){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt(r);case 3:if(c=t.sent,0!==(a=c.results.trackmatches.track).length){t.next=8;break}return e((function(t){t({type:R})})),t.abrupt("return");case 8:e({type:T,payload:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e(H(F));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()))):t((function(t){t({type:y}),setTimeout((function(){t(rt())}),3e3)}))},children:"Find a track"})})})]})}function at(){var t=Object(u.c)((function(t){return t.tracksForPreview.tracks}));return Object(c.jsxs)("div",{className:"container is-flex is-flex-direction-column is-justify-content-space-around",children:[Object(c.jsx)("h3",{className:"title",children:"Tracks found: ".concat(t.length)}),Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{className:"thead",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Track Title"}),Object(c.jsx)("th",{children:"Artist"}),Object(c.jsx)("th",{children:"Link to Last.fm"})]})}),Object(c.jsx)("tbody",{children:t.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:t.artist}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:t.url,rel:"noreferrer",target:"_blank",children:"Listen"})})]},t.url)}))})]})]})}function nt(){var t=Object(u.c)((function(t){return t.tracksForPreview.tracks})),e=Object(u.c)((function(t){return t.requestErrors.requestErrors.searchTrackError}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ct,{}),e&&Object(c.jsx)(K,{}),!!t.length&&Object(c.jsx)(at,{})]})}function st(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Q,{}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)(b.d,{children:[Object(c.jsx)(b.b,{path:"/artist-details/:artistName",component:G}),Object(c.jsx)(b.b,{path:"/artist-details",children:Object(c.jsx)(G,{})}),Object(c.jsx)(b.b,{path:"/track-search",children:Object(c.jsx)(nt,{})}),Object(c.jsx)(b.b,{path:"/",exact:!0,children:Object(c.jsx)(W,{})}),Object(c.jsx)(b.a,{path:"/home",to:"/"}),Object(c.jsx)(X,{})]})})]})}var it={requestErrors:{topTracksError:!1,searchTrackError:!1,artistError:!1}},ot={artist:null,artistImage:{}},ut={tracks:[]},jt={tracks:[],searchError:!1,inputError:!1,requestError:!1},lt=Object(o.c)({topTracks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case E:return Object(V.a)(Object(V.a)({},t),{},{tracks:e.payload});default:return t}},artist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:return Object(V.a)(Object(V.a)({},t),{},{artist:e.payload});case g:return Object(V.a)(Object(V.a)({},t),{},{artistImage:e.payload});default:return t}},tracksForPreview:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T:return Object(V.a)(Object(V.a)({},t),{},{tracks:e.payload});case _:return Object(V.a)(Object(V.a)({},t),{},{tracks:[]});case R:return Object(V.a)(Object(V.a)({},t),{},{searchError:!0});case N:return Object(V.a)(Object(V.a)({},t),{},{searchError:!1});case y:return Object(V.a)(Object(V.a)({},t),{},{inputError:!0});case w:return Object(V.a)(Object(V.a)({},t),{},{inputError:!1});default:return t}},requestErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(V.a)(Object(V.a)({},t),{},{requestErrors:Object(V.a)(Object(V.a)({},t.requestErrors),{},{topTracksError:!0})});case A:return Object(V.a)(Object(V.a)({},t),{},{requestErrors:Object(V.a)(Object(V.a)({},t.requestErrors),{},{searchTrackError:!0})});case C:return Object(V.a)(Object(V.a)({},t),{},{requestErrors:Object(V.a)(Object(V.a)({},t.requestErrors),{},{artistError:!0})});case P:return Object(V.a)(Object(V.a)({},t),{},{requestErrors:Object(V.a)(Object(V.a)({},t.requestErrors),{},{searchTrackError:!1})});default:return t}}}),bt=Object(o.e)(lt,Object(o.d)(Object(o.a)(j.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),ht=Object(c.jsx)(u.a,{store:bt,children:Object(c.jsx)(l.a,{children:Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(st,{})})})});i.a.render(ht,document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.84253466.chunk.js.map