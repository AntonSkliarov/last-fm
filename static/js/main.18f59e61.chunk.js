(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{37:function(t,e,r){},38:function(t,e,r){},41:function(t,e,r){},42:function(t,e,r){"use strict";r.r(e);var a=r(1),c=r(0),n=r.n(c),s=r(16),i=r.n(s),o=r(13),j=r(7),u=r(25),l=r(12),b=(r(37),r(3)),h=(r(38),function(t){var e=t.tag;return Object(a.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:e.name})}),d=r(5),O=r.n(d),f=r(4),p=r(11),x="https://ws.audioscrobbler.com/2.0/",m="5190711e40adb8688facb8a58d660e2d";function v(t){return k.apply(this,arguments)}function k(){return(k=Object(p.a)(O.a.mark((function t(e){var r,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="?method=artist.getinfo&artist=".concat(e,"&api_key=").concat(m,"&format=json"),t.next=3,fetch("".concat(x).concat(r));case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var g="/?method=chart.gettoptracks&api_key=".concat(m,"&format=json");function y(){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(O.a.mark((function t(){var e,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(x).concat(g));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return T.apply(this,arguments)}function T(){return(T=Object(p.a)(O.a.mark((function t(e){var r,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="?method=track.search&track=".concat(e,"&api_key=").concat(m,"&format=json"),t.next=3,fetch("".concat(x).concat(r));case 3:return a=t.sent,t.next=6,a.json();case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"track";if("track"===e){var r={};return t.forEach((function(t){"medium"===t.size&&(r=t)})),r}var a={};return t.forEach((function(t){"extralarge"===t.size&&(a=t)})),a}var w="topTracks/FETCH_TOP_TRACKS",R="artist/FETCH_ARTIST",S="artist/SET_ARTIST_IMAGE",A="trackSearch/FETCH_SEARCHED_TRACK",C="trackSearch/CLEAR_TRACK_PREVIEW",F="trackSearch/SET_SEARCH_ERROR",I="trackSearch/CLEAR_SEARCH_ERROR";function L(t){return function(e){var r=_(t,"artist");e({type:S,payload:r})}}function D(t){var e=t.match,r=Object(j.b)(),n=Object(j.c)((function(t){return t.artist.artist})),s=Object(j.c)((function(t){return t.artist.artistImage}));return Object(c.useEffect)((function(){r(function(t){var e=t.artistName;return function(){var t=Object(p.a)(O.a.mark((function t(r){var a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e);case 2:a=t.sent,c=a.artist,r({type:R,payload:c}),r(L(c.image));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e.params))}),[e.params.artistName]),Object(a.jsx)(a.Fragment,{children:!!Object.keys(n).length&&Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:s["#text"],alt:""}),Object(a.jsx)("h3",{children:n.name}),Object(a.jsx)("p",{children:n.bio.content}),Object(a.jsx)("p",{children:"Tags"}),n.tags.tag.map((function(t){return Object(a.jsx)(h,{tag:t},t.name)}))]})})}function P(){return Object(a.jsx)("nav",{className:"navbar",children:Object(a.jsxs)("div",{className:"navbar-brand container",children:[Object(a.jsx)(l.b,{className:"navbar-item",to:"/",children:"Top Tracks"}),Object(a.jsx)(l.b,{className:"navbar-item",to:"/track-search",children:"Track Search"}),Object(a.jsx)(l.b,{className:"navbar-item",to:"/artist-details",children:"Artist Details"})]})})}r(41);function H(t){var e=t.track,r=_(e.image);return Object(a.jsx)("div",{className:"track-card card",children:Object(a.jsx)("li",{children:Object(a.jsxs)("div",{className:"card-content",children:[Object(a.jsx)("img",{className:"image is-64x64",src:r["#text"],alt:"".concat(e.artist.name," Album Cover")}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsx)("div",{children:Object(a.jsx)(l.b,{to:"/artist-details/".concat(e.artist.name),children:e.artist.name})}),Object(a.jsx)("a",{href:e.artist.url,children:"Artist on Last.fm"})]})]})})})}function K(){var t=Object(j.b)(),e=Object(j.c)((function(t){return t.topTracks.tracks}));return Object(c.useEffect)((function(){t(function(){var t=Object(p.a)(O.a.mark((function t(e){var r,a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:r=t.sent,a=r.tracks.track,c=a.map((function(t,e){return Object(f.a)(Object(f.a)({},t),{},{id:e})})),e({type:w,payload:c});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"TOP TRACKS PAGE"}),Object(a.jsx)("ul",{className:"is-flex is-flex-wrap-wrap",children:e.map((function(t){return Object(a.jsx)(H,{track:t},t.id)}))})]})}var X=r(27),M=r(26),V=r.n(M);function z(){var t=Object(j.b)(),e=Object(j.c)((function(t){return t.tracksForPreview.tracks})),r=Object(j.c)((function(t){return t.tracksForPreview.searchError})),n=Object(c.useState)(""),s=Object(X.a)(n,2),i=s[0],o=s[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"find-track",children:[Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{className:"label",htmlFor:"track-title",children:"Track title"}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{className:V()("input",{"is-danger":r}),type:"text",id:"track-title",placeholder:"Enter a track title to search",value:i,onChange:function(e){t((function(t){t({type:I})})),o(e.target.value),t((function(t){t({type:C})}))},autoComplete:"off"})}),r&&Object(a.jsx)("p",{className:"help is-danger",children:"Can't find a track with such a title"})]}),Object(a.jsx)("div",{className:"field is-grouped",children:Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("button",{type:"submit",className:"button is-light",onClick:function(e){var r;e.preventDefault(),t((r=i,function(){var t=Object(p.a)(O.a.mark((function t(e){var a,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(r);case 2:if(a=t.sent,0!==(c=a.results.trackmatches.track).length){t.next=7;break}return e((function(t){t({type:F})})),t.abrupt("return");case 7:e({type:A,payload:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Find a track"})})})]}),!!e.length&&Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h3",{className:"title",children:"Tracks Matches:"}),Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{className:"thead",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Track Title"}),Object(a.jsx)("th",{children:"Artist"}),Object(a.jsx)("th",{children:"Link to Last.fm"})]})}),Object(a.jsx)("tbody",{children:e.map((function(t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.artist}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:t.url,rel:"noreferrer",target:"_blank",children:"Listen"})})]},t.url)}))})]})]})]})}function G(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P,{}),Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(b.d,{children:[Object(a.jsx)(b.b,{path:"/artist-details/:artistName",component:D}),Object(a.jsx)(b.b,{path:"/track-search",children:Object(a.jsx)(z,{})}),Object(a.jsx)(b.b,{path:"/",exact:!0,children:Object(a.jsx)(K,{})}),Object(a.jsx)(b.a,{path:"/home",to:"/"})]})})]})}var J={artist:[],artistImage:{}},U={tracks:[]},B={tracks:[],searchError:!1},W=Object(o.c)({topTracks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(f.a)(Object(f.a)({},t),{},{tracks:e.payload});default:return t}},artist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case R:return Object(f.a)(Object(f.a)({},t),{},{artist:e.payload});case S:return Object(f.a)(Object(f.a)({},t),{},{artistImage:e.payload});default:return t}},tracksForPreview:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:return Object(f.a)(Object(f.a)({},t),{},{tracks:e.payload});case C:return Object(f.a)(Object(f.a)({},t),{},{tracks:[]});case F:return Object(f.a)(Object(f.a)({},t),{},{searchError:!0});case I:return Object(f.a)(Object(f.a)({},t),{},{searchError:!1});default:return t}}}),q=Object(o.e)(W,Object(o.d)(Object(o.a)(u.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Q=Object(a.jsx)(j.a,{store:q,children:Object(a.jsx)(l.a,{children:Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(G,{})})})});i.a.render(Q,document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.18f59e61.chunk.js.map