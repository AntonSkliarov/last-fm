(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{37:function(t,e,r){},38:function(t,e,r){},41:function(t,e,r){},42:function(t,e,r){"use strict";r.r(e);var c=r(0),a=r(1),n=r.n(a),s=r(16),i=r.n(s),o=r(13),u=r(4),j=r(25),l=r(12),b=(r(37),r(5)),h=(r(38),r(6)),d=r.n(h),O=r(10),p="https://ws.audioscrobbler.com/2.0/",f="5190711e40adb8688facb8a58d660e2d";function x(t){return m.apply(this,arguments)}function m(){return(m=Object(O.a)(d.a.mark((function t(e){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="?method=artist.getinfo&artist=".concat(e,"&api_key=").concat(f,"&format=json"),t.next=3,fetch("".concat(p).concat(r));case 3:return c=t.sent,t.next=6,c.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"track";if("track"===e){var r={};return t.forEach((function(t){"medium"===t.size&&(r=t)})),r}var c={};return t.forEach((function(t){"extralarge"===t.size&&(c=t)})),c}var E="topTracks/FETCH_TOP_TRACKS",k="artist/FETCH_ARTIST",T="artist/SET_ARTIST_IMAGE",g="trackSearch/FETCH_SEARCHED_TRACK",_="trackSearch/CLEAR_TRACK_PREVIEW",R="trackSearch/SET_SEARCH_ERROR",y="trackSearch/CLEAR_SEARCH_ERROR",N="trackSearch/SET_INPUT_ERROR",w="trackSearch/CLEAR_INPUT_ERROR",S="app/SET_REQUEST_TOP_TRACKS_ERROR",A="app/SET_REQUEST_SEARCH_TRACK_ERROR",C="app/SET_REQUEST_ARTIST_ERROR",P="TOP_TRACK_PAGE",I="SEARCH_TRACK_PAGE",q="ARTIST_PAGE";function F(t){return function(e){switch(t){case P:e({type:S});break;case I:e({type:A});break;case q:e({type:C})}}}function H(t){return function(e){var r=v(t,"artist");e({type:T,payload:r})}}var L=function(){return Object(c.jsxs)("div",{className:"message is-danger",children:[Object(c.jsx)("div",{className:"message-header",children:Object(c.jsx)("p",{children:"Oops, something went wrong"})}),Object(c.jsx)("div",{className:"message-body",children:"Sorry for the inconvenience. Please try to reload the page or contact the support team."})]})},K=function(t){var e=t.tag;return Object(c.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:e.name})};function D(){var t=Object(u.c)((function(t){return t.artist.artist})),e=Object(u.c)((function(t){return t.artist.artistImage}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:e["#text"],alt:""}),Object(c.jsx)("h3",{children:t.name}),Object(c.jsx)("p",{children:t.bio.content}),Object(c.jsx)("p",{children:"Tags"}),t.tags.tag.map((function(t){return Object(c.jsx)(K,{tag:t},t.name)}))]})}function U(t){var e=t.match,r=Object(u.b)(),n=Object(u.c)((function(t){return t.artist.artist})),s=Object(u.c)((function(t){return t.requestErrors.requestErrors.artistError}));return void 0!==e&&Object(a.useEffect)((function(){r(function(t){var e=t.artistName;return function(){var t=Object(O.a)(d.a.mark((function t(r){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(e);case 3:c=t.sent,a=c.artist,r({type:k,payload:a}),r(H(a.image)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(F(q));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e.params))}),[e.params.artistName]),s?Object(c.jsx)(L,{}):Object(c.jsx)(c.Fragment,{children:n?Object(c.jsx)(D,{}):Object(c.jsx)("div",{className:"notification is-info",children:"Hey, wanna see some? Just click on the artist's name on the Top Tracks Page!"})})}function G(){return Object(c.jsx)("nav",{className:" mb-4",children:Object(c.jsxs)("div",{className:"navbar-brand container",children:[Object(c.jsx)(l.c,{className:"navbar-item is-tab",to:"/",activeClassName:"is-active",exact:!0,children:"Top Tracks"}),Object(c.jsx)(l.c,{className:"navbar-item is-tab",to:"/track-search",activeClassName:"is-active",children:"Track Search"}),Object(c.jsx)(l.c,{className:"navbar-item is-tab",to:"/artist-details",activeClassName:"is-active",children:"Artist Details"})]})})}function X(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"title",children:"404 Page Not Found"}),Object(c.jsx)("p",{className:"subtitle",children:"An unexpected error has occurred. Please contact the site owner."})]})}r(41);function J(t){var e=t.track,r=v(e.image);return Object(c.jsx)("div",{className:"track-card card",children:Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("img",{className:"image is-64x64",src:r["#text"],alt:"".concat(e.artist.name," Album Cover")}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsx)("div",{children:Object(c.jsx)(l.b,{to:"/artist-details/".concat(e.artist.name),children:e.artist.name})}),Object(c.jsx)("a",{href:e.artist.url,rel:"noreferrer",target:"_blank",children:"Artist on Last.fm"})]})]})})})}var Q=r(2),V="/?method=chart.gettoptracks&api_key=".concat(f,"&format=json");function z(){return M.apply(this,arguments)}function M(){return(M=Object(O.a)(d.a.mark((function t(){var e,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(p).concat(V));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.topTracks.tracks})),r=Object(u.c)((function(t){return t.requestErrors.requestErrors.topTracksError}));return Object(a.useEffect)((function(){t(function(){var t=Object(O.a)(d.a.mark((function t(e){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z();case 3:r=t.sent,c=r.tracks.track,a=c.map((function(t,e){return Object(Q.a)(Object(Q.a)({},t),{},{id:e})})),e({type:E,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e(F(P));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())}),[]),r?Object(c.jsx)(L,{}):Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"TOP TRACKS:"}),Object(c.jsx)("ul",{className:"is-flex is-flex-wrap-wrap",children:e.map((function(t){return Object(c.jsx)(J,{track:t},t.id)}))})]})}var W=r(27),Y=r(26),Z=r.n(Y);function $(t){return tt.apply(this,arguments)}function tt(){return(tt=Object(O.a)(d.a.mark((function t(e){var r,c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="?method=track.search&track=".concat(e,"&api_key=").concat(f,"&format=json"),t.next=3,fetch("".concat(p).concat(r));case 3:return c=t.sent,t.next=6,c.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function et(){return function(t){t({type:w})}}function rt(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.tracksForPreview.searchError})),r=Object(u.c)((function(t){return t.tracksForPreview.showInputError})),n=Object(a.useState)(""),s=Object(W.a)(n,2),i=s[0],o=s[1];return Object(c.jsxs)("form",{className:"find-track mb-4",children:[Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{className:"label",htmlFor:"track-title",children:"Track title"}),Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{className:Z()("input ",{"is-danger":e}),type:"text",id:"track-title",placeholder:"Enter a track title to search",value:i,onChange:function(e){t((function(t){t({type:y})})),t(et()),o(e.target.value),t((function(t){t({type:_})}))},autoComplete:"off"})}),r&&Object(c.jsx)("p",{className:"help is-danger",children:"Search field cannot be empty"}),e&&Object(c.jsx)("p",{className:"help is-danger",children:"Can't find a track with such a title"})]}),Object(c.jsx)("div",{className:"field is-grouped",children:Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("button",{type:"submit",className:"button is-light",onClick:function(e){var r;(e.preventDefault(),0!==i.trim().length)?t((r=i,function(){var t=Object(O.a)(d.a.mark((function t(e){var c,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$(r);case 3:if(c=t.sent,0!==(a=c.results.trackmatches.track).length){t.next=8;break}return e((function(t){t({type:R})})),t.abrupt("return");case 8:e({type:g,payload:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),e(F(I));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}())):t((function(t){t({type:N}),setTimeout((function(){t(et())}),3e3)}))},children:"Find a track"})})})]})}function ct(){var t=Object(u.c)((function(t){return t.tracksForPreview.tracks}));return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h3",{className:"title",children:"Tracks found: ".concat(t.length)}),Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{className:"thead",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Track Title"}),Object(c.jsx)("th",{children:"Artist"}),Object(c.jsx)("th",{children:"Link to Last.fm"})]})}),Object(c.jsx)("tbody",{children:t.map((function(t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:t.artist}),Object(c.jsx)("td",{children:Object(c.jsx)("a",{href:t.url,rel:"noreferrer",target:"_blank",children:"Listen"})})]},t.url)}))})]})]})}function at(){var t=Object(u.c)((function(t){return t.tracksForPreview.tracks})),e=Object(u.c)((function(t){return t.requestErrors.requestErrors.searchTrackError}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(rt,{}),e&&Object(c.jsx)(L,{}),!!t.length&&Object(c.jsx)(ct,{})]})}function nt(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(G,{}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)(b.d,{children:[Object(c.jsx)(b.b,{path:"/artist-details/:artistName",component:U}),Object(c.jsx)(b.b,{path:"/artist-details",children:Object(c.jsx)(U,{})}),Object(c.jsx)(b.b,{path:"/track-search",children:Object(c.jsx)(at,{})}),Object(c.jsx)(b.b,{path:"/",exact:!0,children:Object(c.jsx)(B,{})}),Object(c.jsx)(b.a,{path:"/home",to:"/"}),Object(c.jsx)(X,{})]})})]})}var st={requestErrors:{topTracksError:!1,searchTrackError:!1,artistError:!1}},it={artist:null,artistImage:{}},ot={tracks:[]},ut={tracks:[],searchError:!1,showInputError:!1,requestError:!1},jt=Object(o.c)({topTracks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case E:return Object(Q.a)(Object(Q.a)({},t),{},{tracks:e.payload});default:return t}},artist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:return Object(Q.a)(Object(Q.a)({},t),{},{artist:e.payload});case T:return Object(Q.a)(Object(Q.a)({},t),{},{artistImage:e.payload});default:return t}},tracksForPreview:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object(Q.a)(Object(Q.a)({},t),{},{tracks:e.payload});case _:return Object(Q.a)(Object(Q.a)({},t),{},{tracks:[]});case R:return Object(Q.a)(Object(Q.a)({},t),{},{searchError:!0});case y:return Object(Q.a)(Object(Q.a)({},t),{},{searchError:!1});case N:return Object(Q.a)(Object(Q.a)({},t),{},{showInputError:!0});case w:return Object(Q.a)(Object(Q.a)({},t),{},{showInputError:!1});default:return t}},requestErrors:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(Q.a)(Object(Q.a)({},t),{},{requestErrors:Object(Q.a)(Object(Q.a)({},t.requestErrors),{},{topTracksError:!0})});case A:return Object(Q.a)(Object(Q.a)({},t),{},{requestErrors:Object(Q.a)(Object(Q.a)({},t.requestErrors),{},{searchTrackError:!0})});case C:return Object(Q.a)(Object(Q.a)({},t),{},{requestErrors:Object(Q.a)(Object(Q.a)({},t.requestErrors),{},{artistError:!0})});default:return t}}}),lt=Object(o.e)(jt,Object(o.d)(Object(o.a)(j.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),bt=Object(c.jsx)(u.a,{store:lt,children:Object(c.jsx)(l.a,{children:Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(nt,{})})})});i.a.render(bt,document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.c3b04db5.chunk.js.map